{"version":3,"sources":["webpack:///F:/桌面/项目/水务安全小程序/safe-uniapp/pages/home/imporves.vue?ff73","webpack:///F:/桌面/项目/水务安全小程序/safe-uniapp/pages/home/imporves.vue?e64e","webpack:///F:/桌面/项目/水务安全小程序/safe-uniapp/pages/home/imporves.vue?351c","webpack:///F:/桌面/项目/水务安全小程序/safe-uniapp/pages/home/imporves.vue?e852","uni-app:///pages/home/imporves.vue","webpack:///F:/桌面/项目/水务安全小程序/safe-uniapp/pages/home/imporves.vue?b171","webpack:///F:/桌面/项目/水务安全小程序/safe-uniapp/pages/home/imporves.vue?a67d"],"names":["computed","components","FUpload","mxdatepicker","watch","dicts","props","item","type","default","block","data","scrollTop","show","id","showStimeType","showStime","showList","list","category","inspectedUnit","listType","listValue","form","items","name","desc","address","discoverer","photo","etime","code","selectIndex","rules","required","message","trigger","rtime","methods","onCancel","onCancelPicker","onSelectedDate","initDict","addQuestion","delQuestion","onSelect","onSubmit","arr","icon","complete","console","uni","title","content","success","i","showCancel","cancel","init","onReady"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACc;;;AAGrE;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,iPAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,qUAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvGA;AAAA;AAAA;AAAA;AAAmoB,CAAgB,knBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACuIvpB;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,gBAGA;EACAA,4BACA,+EACA;EACAC;IACAC;IACAC;EACA;EACAC;IACAC;MACA;IAAA;EAEA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAD;IACA;EACA;EACAE;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAX;QACAY;MACA;MACAC;MACAC,YACA;QACAH;QACAX;QACAY;MACA,EACA;MACAG;QACAH;QACAI,QACA;UACAC;UACAN;UACAO;UACAC;UACAC;UACAC;UACAC;UACAC;QACA;MAEA;MACA;MACAC;MACAC;QACAb,gBACA;UACAc;UACAC;UACAC;QACA,EACA;QACAC,QACA;UACAH;UACAC;UACAC;QACA,EACA;QACAX,OACA;UACAS;UACAC;UACAC;QACA,EACA;QACAjB,WACA;UACAe;UACAC;UACAC;QACA,EACA;QACA5B,OACA;UACA0B;UACAC;UACAC;QACA,EACA;QACAV,OACA;UACAQ;UACAC;UACAC;QACA,EACA;QACAT,UACA;UACAO;UACAC;UACAC;QACA,EACA;QAEAR,aACA;UACAM;UACAC;UACAC;QACA,EACA;QACA;QACA;QACA;QACA;QACA;QACAN,QACA;UACAI;UACAC;UACAC;QACA;QAEA;MACA;IACA;EACA;;EACAE;IACAC;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;MACA;QACA;MACA;QACA;MACA;MACA;IACA;IACAC;MACA;QACA;UACAvB;UACAX;UACAY;QACA;MACA;IACA;IACA;IACAuB;MAAA;MACA;QACAlB;QACAN;QACAX;QACAkB;QACAC;QACAE;QACAC;MACA;MACA;QACAX;QACAX;QACAY;MACA;MACA;QACA;MACA;IACA;IACA;IACAwB;MACA;MACA;QACApC;QACA2B;MACA;IACA;IACAU;MACA;MACA;QACA;MACA;QACA;MACA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;QACAC;QACAd;UACA;YACA;cACA;gBACAzB;gBACA2B;gBACAa;gBACAC;cACA;cACA;YACA;UACA;YACA;cACA;gBACAzC;gBACA2B;gBACAa;gBACAC;cACA;cACA;YACA;UACA;QACA;MACA;MACA;MACA;QACAC;QACA;UACA;YACA1C;YACA2B;YACAa;UACA;QACA;MACA;MACAG;QACAC;QACAC;QACAC;UACA;YACAH;cACAC;YACA;YACA;YACA7B;YACAA;cACAgC;cACAA;YACA;YACAhC;YACAA;YACA;cAAA;cACA;gBACA4B;gBACA;gBACAA;kBACAC;kBACAI;kBACAF;oBACA;kBACA;gBACA;cACA;gBACAH;gBACAA;kBACAC;kBACAC;kBACAG;gBACA;cACA;YACA;UACA;QACA;QACAC;UACAN;QACA;MACA;IACA;IACAO;MACA;QACArB;QACAb,QACA;UACAC;UACAN;UACAX;UACAkB;UACAC;UACAE;UACAC;QACA;MAEA;IACA;EACA;EACA6B;IACA;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;;ACxbA;AAAA;AAAA;AAAA;AAAssC,CAAgB,imCAAG,EAAC,C;;;;;;;;;;;ACA1tC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/home/imporves.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./imporves.vue?vue&type=template&id=999a48c8&\"\nvar renderjs\nimport script from \"./imporves.vue?vue&type=script&lang=js&\"\nexport * from \"./imporves.vue?vue&type=script&lang=js&\"\nimport style0 from \"./imporves.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/imporves.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./imporves.vue?vue&type=template&id=999a48c8&\"","var components\ntry {\n  components = {\n    uModal: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-modal/u-modal\" */ \"@/uni_modules/uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n    uToast: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-toast/u-toast\" */ \"@/uni_modules/uview-ui/components/u-toast/u-toast.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uCellGroup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-cell-group/u-cell-group\" */ \"@/uni_modules/uview-ui/components/u-cell-group/u-cell-group.vue\"\n      )\n    },\n    uCell: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-cell/u-cell\" */ \"@/uni_modules/uview-ui/components/u-cell/u-cell.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-button/u-button\" */ \"@/uni_modules/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uPicker: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-picker/u-picker\" */ \"@/uni_modules/uview-ui/components/u-picker/u-picker.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.listType = \"inspectedUnit\"\n      _vm.showList = true\n    }\n    _vm.e1 = function ($event) {\n      _vm.showStimeType = \"rtime\"\n      _vm.showStime = true\n    }\n    _vm.e2 = function ($event, index) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        index = _temp2.index\n      var _temp, _temp2\n      _vm.listType = \"category\"\n      _vm.showList = true\n      _vm.selectIndex = index\n    }\n    _vm.e3 = function ($event, index) {\n      var _temp3 = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp4 = _temp3.eventParams || _temp3[\"event-params\"],\n        index = _temp4.index\n      var _temp3, _temp4\n      _vm.listType = \"type\"\n      _vm.showList = true\n      _vm.selectIndex = index\n    }\n    _vm.e4 = function ($event, index) {\n      var _temp5 = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp6 = _temp5.eventParams || _temp5[\"event-params\"],\n        index = _temp6.index\n      var _temp5, _temp6\n      _vm.showStimeType = \"etime\"\n      _vm.showStime = true\n      _vm.selectIndex = index\n    }\n    _vm.e5 = function ($event) {\n      _vm.showList = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./imporves.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./imporves.vue?vue&type=script&lang=js&\"","<template>\n\t<u-modal :show=\"show\" :title=\"' '\" :content=\"' '\" @cancel=\"onCancel\" :showConfirmButton=\"false\">\n\t\t<u-toast ref=\"uToast\" position=\"top\"></u-toast>\n\t\t<view class=\"c-improves\">\n\t\t\t<view class=\"c-improves__table\">\n\t\t\t\t<view class=\"th\">\n\t\t\t\t\t<view class=\"td\" style=\"width: 100%\">隐患整改发起</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"tr\">\n\t\t\t\t\t<view class=\"td\" style=\"width: 30%\">检查单位</view>\n\t\t\t\t\t<view class=\"td\" style=\"width: 70%\">{{ me.dept }}</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"tr\">\n\t\t\t\t\t<view class=\"td\" style=\"width: 30%\">被检查单位</view>\n\t\t\t\t\t<view\n\t\t\t\t\t\tclass=\"td value\"\n\t\t\t\t\t\tstyle=\"width: 70%; padding-right: 20rpx; box-sizing: border-box\"\n\t\t\t\t\t\t@click=\"\n\t\t\t\t\t\t\tlistType = `inspectedUnit`\n\t\t\t\t\t\t\tshowList = true\n\t\t\t\t\t\t\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<text>{{ listValue[0][`inspectedUnit`] || '请选择' }}</text>\n\t\t\t\t\t\t<u-icon name=\"arrow-down\" color=\"#000\" size=\"12\"></u-icon>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"tr\">\n\t\t\t\t\t<view class=\"td\" style=\"width: 30%\">发生时间</view>\n\t\t\t\t\t<view\n\t\t\t\t\t\tclass=\"td value\"\n\t\t\t\t\t\tstyle=\"width: 70%; padding-right: 20rpx; box-sizing: border-box\"\n\t\t\t\t\t\t@click=\"\n\t\t\t\t\t\t\tshowStimeType = 'rtime'\n\t\t\t\t\t\t\tshowStime = true\n\t\t\t\t\t\t\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<text>{{ form.rtime || '请选择发生时间' }}</text>\n\t\t\t\t\t\t<u-icon name=\"arrow-down\" color=\"#000\" size=\"12\"></u-icon>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<u-cell-group>\n\t\t\t\t<u-cell title=\"隐患明细\" :arrow=\"false\">\n\t\t\t\t\t<u-icon slot=\"right-icon\" name=\"plus\" color=\"#2979ff\" @click=\"addQuestion\" size=\"28\"></u-icon>\n\t\t\t\t</u-cell>\n\t\t\t</u-cell-group>\n\t\t\t<scroll-view class=\"scrollHeight\" scroll-y=\"true\" :scroll-top=\"scrollTop\" scroll-with-animation>\n\t\t\t\t<view v-for=\"(item, index) in form.items\" :key=\"index\">\n\t\t\t\t\t<view class=\"c-improves__table\">\n\t\t\t\t\t\t<view class=\"tr\">\n\t\t\t\t\t\t\t<view class=\"td\" style=\"width: 30%\">隐患名称</view>\n\t\t\t\t\t\t\t<view class=\"td\" style=\"width: 70%\">\n\t\t\t\t\t\t\t\t<input style=\"text-align: left; width: 100%\" v-model=\"item.name\" placeholder=\"请输入\" />\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"tr\">\n\t\t\t\t\t\t\t<view class=\"td\" style=\"width: 30%\">隐患分类</view>\n\t\t\t\t\t\t\t<view\n\t\t\t\t\t\t\t\tclass=\"td value\"\n\t\t\t\t\t\t\t\tstyle=\"width: 70%; padding-right: 20rpx; box-sizing: border-box\"\n\t\t\t\t\t\t\t\t@click=\"\n\t\t\t\t\t\t\t\t\tlistType = `category`\n\t\t\t\t\t\t\t\t\tshowList = true\n\t\t\t\t\t\t\t\t\tselectIndex = index\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<text>{{ listValue[index][`category`] || '请选择' }}</text>\n\t\t\t\t\t\t\t\t<u-icon name=\"arrow-down\" color=\"#000\" size=\"12\"></u-icon>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"tr\">\n\t\t\t\t\t\t\t<view class=\"td\" style=\"width: 30%\">隐患类别</view>\n\t\t\t\t\t\t\t<view\n\t\t\t\t\t\t\t\tclass=\"td value\"\n\t\t\t\t\t\t\t\tstyle=\"width: 70%; padding-right: 20rpx; box-sizing: border-box\"\n\t\t\t\t\t\t\t\t@click=\"\n\t\t\t\t\t\t\t\t\tlistType = `type`\n\t\t\t\t\t\t\t\t\tshowList = true\n\t\t\t\t\t\t\t\t\tselectIndex = index\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<text>{{ listValue[index][`type`] || '请选择' }}</text>\n\t\t\t\t\t\t\t\t<u-icon name=\"arrow-down\" color=\"#000\" size=\"12\"></u-icon>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"tr\">\n\t\t\t\t\t\t\t<view class=\"td\" style=\"width: 30%\">隐患描述</view>\n\t\t\t\t\t\t\t<view class=\"td value\" style=\"width: 70%\">\n\t\t\t\t\t\t\t\t<textarea type=\"text\" style=\"text-align: left; width: 100%; height: 120rpx\" v-model=\"item.desc\" placeholder=\"请输入\"></textarea>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"tr\">\n\t\t\t\t\t\t\t<view class=\"td\" style=\"width: 30%\">地点</view>\n\t\t\t\t\t\t\t<view class=\"td value\" style=\"width: 70%\">\n\t\t\t\t\t\t\t\t<textarea style=\"text-align: left; width: 100%; height: 90rpx\" v-model=\"item.address\" placeholder=\"请输入\"></textarea>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<view class=\"tr\">\n\t\t\t\t\t\t\t<view class=\"td\" style=\"width: 30%\">整改时限</view>\n\t\t\t\t\t\t\t<view\n\t\t\t\t\t\t\t\tclass=\"td value\"\n\t\t\t\t\t\t\t\tstyle=\"width: 70%; padding-right: 20rpx; box-sizing: border-box\"\n\t\t\t\t\t\t\t\t@click=\"\n\t\t\t\t\t\t\t\t\tshowStimeType = 'etime'\n\t\t\t\t\t\t\t\t\tshowStime = true\n\t\t\t\t\t\t\t\t\tselectIndex = index\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<text>{{ item.etime || '请选择整改时限' }}</text>\n\t\t\t\t\t\t\t\t<u-icon name=\"arrow-down\" color=\"#000\" size=\"12\"></u-icon>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"tr\">\n\t\t\t\t\t\t\t<view class=\"td\" style=\"width: 30%\">图片</view>\n\t\t\t\t\t\t\t<view class=\"td value\" style=\"width: 70%; justify-content: flex-start\">\n\t\t\t\t\t\t\t\t<FUpload v-model=\"item.photo\"></FUpload>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<u-button type=\"error\" text=\"删除\" size=\"mini\" @click=\"delQuestion(index)\"></u-button>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t\t<view class=\"c-improves__footer\" slot=\"confirmButton\">\n\t\t\t\t<view class=\"btn\" @click=\"onCancel\">取消</view>\n\t\t\t\t<view class=\"btn btn2\" @click=\"onSubmit\">发布隐患</view>\n\t\t\t</view>\n\t\t\t<mxdatepicker :show=\"showStime\" type=\"date\" :show-tips=\"true\" @confirm=\"onSelectedDate\" @cancel=\"onCancelPicker\" />\n\n\t\t\t<u-picker :show=\"showList\" :columns=\"[list[listType]]\" @confirm=\"onSelect\" keyName=\"name\" @cancel=\"showList = false\"></u-picker>\n\t\t\t<u-toast ref=\"uToast\"></u-toast>\n\t\t</view>\n\t</u-modal>\n</template>\n<script>\nimport { mapState } from 'vuex'\nimport FUpload from '@/components/FUpload.vue'\nimport mxdatepicker from '@/components/mx-datepicker/mx-datepicker.vue'\nexport default {\n\tcomputed: {\n\t\t...mapState('common', ['archive', 'dicts', 'users', 'me', 'companys'])\n\t},\n\tcomponents: {\n\t\tFUpload,\n\t\tmxdatepicker\n\t},\n\twatch: {\n\t\tdicts() {\n\t\t\t// this.init()\n\t\t}\n\t},\n\tprops: {\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {}\n\t\t},\n\t\tblock: {\n\t\t\tdefault: null\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tscrollTop: 0,\n\t\t\tshow: true,\n\t\t\tid: '',\n\t\t\tshowStimeType: '',\n\t\t\tshowStime: false,\n\t\t\tshowList: false,\n\t\t\tlist: {\n\t\t\t\tcategory: [],\n\t\t\t\ttype: [],\n\t\t\t\tinspectedUnit: []\n\t\t\t},\n\t\t\tlistType: '',\n\t\t\tlistValue: [\n\t\t\t\t{\n\t\t\t\t\tcategory: '',\n\t\t\t\t\ttype: '',\n\t\t\t\t\tinspectedUnit: ''\n\t\t\t\t}\n\t\t\t],\n\t\t\tform: {\n\t\t\t\tinspectedUnit: null,\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: null,\n\t\t\t\t\t\tcategory: null,\n\t\t\t\t\t\tdesc: null,\n\t\t\t\t\t\taddress: null,\n\t\t\t\t\t\tdiscoverer: null,\n\t\t\t\t\t\tphoto: null,\n\t\t\t\t\t\tetime: null,\n\t\t\t\t\t\tcode: null\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t// 当前隐患对应的index\n\t\t\tselectIndex: 0,\n\t\t\trules: {\n\t\t\t\tinspectedUnit: [\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: '请选择被检查单位',\n\t\t\t\t\t\ttrigger: ['blur']\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\trtime: [\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: '请输入发生时间',\n\t\t\t\t\t\ttrigger: ['blur']\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tname: [\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: '请输入隐患名称',\n\t\t\t\t\t\ttrigger: ['blur']\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tcategory: [\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: '请选择隐患分类',\n\t\t\t\t\t\ttrigger: ['blur']\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttype: [\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: '请选择隐患类别',\n\t\t\t\t\t\ttrigger: ['blur']\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tdesc: [\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: '请输入隐患描述',\n\t\t\t\t\t\ttrigger: ['blur']\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\taddress: [\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: '请输入地点',\n\t\t\t\t\t\ttrigger: ['blur']\n\t\t\t\t\t}\n\t\t\t\t],\n\n\t\t\t\tdiscoverer: [\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: '请输入发现人',\n\t\t\t\t\t\ttrigger: ['blur']\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t// photo: [{\n\t\t\t\t// \trequired: true,\n\t\t\t\t// \tmessage: \"请添加隐患照片\",\n\t\t\t\t// \ttrigger: [\"blur\"]\n\t\t\t\t// }],\n\t\t\t\tetime: [\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: '请输入整改时限',\n\t\t\t\t\t\ttrigger: ['blur']\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t\t// 问题列表\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tonCancel() {\n\t\t\tthis.show = false\n\t\t\tthis.$emit('onClose')\n\t\t},\n\t\tonCancelPicker() {\n\t\t\tthis.showStime = false\n\t\t},\n\t\tonSelectedDate(e) {\n\t\t\tlet date = new Date(e.date).Format('YYYY-MM-DD')\n\t\t\t// this.inspectionForm.pstime = Date.parse(date) / 1000;\n\t\t\tif (this.showStimeType === 'rtime') {\n\t\t\t\tthis.form[this.showStimeType] = date\n\t\t\t} else {\n\t\t\t\tthis.form.items[this.selectIndex][this.showStimeType] = date\n\t\t\t}\n\t\t\tthis.showStime = false\n\t\t},\n\t\tinitDict() {\n\t\t\tif (this.dicts) {\n\t\t\t\tthis.list = {\n\t\t\t\t\tcategory: this.dicts.improve_cate,\n\t\t\t\t\ttype: this.dicts.improve_type,\n\t\t\t\t\tinspectedUnit: this.companys\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// 新增隐患明细\n\t\taddQuestion() {\n\t\t\tthis.form.items.push({\n\t\t\t\tname: null,\n\t\t\t\tcategory: null,\n\t\t\t\ttype: null,\n\t\t\t\tdesc: null,\n\t\t\t\taddress: this.archive.name + (this.archive.address || ''),\n\t\t\t\tphoto: null,\n\t\t\t\tetime: null\n\t\t\t})\n\t\t\tthis.listValue.push({\n\t\t\t\tcategory: '',\n\t\t\t\ttype: '',\n\t\t\t\tinspectedUnit: ''\n\t\t\t})\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.scrollTop += 1000\n\t\t\t})\n\t\t},\n\t\t// 删除隐患\n\t\tdelQuestion(index) {\n\t\t\tthis.form.items.splice(index, 1)\n\t\t\tthis.$refs.uToast.show({\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: '删除成功'\n\t\t\t})\n\t\t},\n\t\tonSelect(target) {\n\t\t\tthis.listValue[this.selectIndex][this.listType] = target.value[0].name\n\t\t\tif (this.listType === 'inspectedUnit') {\n\t\t\t\tthis.form[this.listType] = target.value[0].id\n\t\t\t} else {\n\t\t\t\tthis.form.items[this.selectIndex][this.listType] = target.value[0].id\n\t\t\t}\n\t\t\tthis.showList = false\n\t\t},\n\t\tonSubmit() {\n\t\t\tlet rules = ['inspectedUnit', 'rtime', 'name', 'category', 'type', 'etime', 'desc', 'address']\n\t\t\tconst arr = []\n\t\t\tthis.form.items.forEach((item, index) => {\n\t\t\t\tarr.push(item.desc)\n\t\t\t\trules.forEach((i, inx) => {\n\t\t\t\t\tif (i === 'inspectedUnit' || i === 'rtime') {\n\t\t\t\t\t\tif (!this.form[i]) {\n\t\t\t\t\t\t\tthis.$refs.uToast.show({\n\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\tmessage: this.rules[i][0].message,\n\t\t\t\t\t\t\t\ticon: false,\n\t\t\t\t\t\t\t\tcomplete() {}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthrow new Error('终止循环')\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!this.form.items[index][i]) {\n\t\t\t\t\t\t\tthis.$refs.uToast.show({\n\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\tmessage: this.rules[i][0].message,\n\t\t\t\t\t\t\t\ticon: false,\n\t\t\t\t\t\t\t\tcomplete() {}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthrow new Error('终止循环')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t\t// 判断隐患描述内容的内容是否一致\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tconsole.log(arr.indexOf(arr[i]))\n\t\t\t\tif (arr.indexOf(arr[i]) != i) {\n\t\t\t\t\treturn this.$refs.uToast.show({\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\tmessage: '隐患描述内容不能重复!',\n\t\t\t\t\t\ticon: false\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '确定提交隐患通知单吗？',\n\t\t\t\tsuccess: (e) => {\n\t\t\t\t\tif (e.confirm) {\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: '提交中...'\n\t\t\t\t\t\t})\n\t\t\t\t\t\tlet form = JSON.parse(JSON.stringify(this.form))\n\t\t\t\t\t\tform.code = this.archive.code\n\t\t\t\t\t\tform.items.forEach((i) => {\n\t\t\t\t\t\t\ti.etime = i.etime + ' 00:00:00'\n\t\t\t\t\t\t\ti.block_code = this.block\n\t\t\t\t\t\t})\n\t\t\t\t\t\tform.rtime = form.rtime + ' 00:00:00'\n\t\t\t\t\t\tform.block_code = this.block\n\t\t\t\t\t\tthis.$request.post(`/new/improves/process`, form).then(({ data }) => {\n\t\t\t\t\t\t\tif (data.code === 200) {\n\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\tthis.init()\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\ttitle: '创建成功！',\n\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\tthis.$emit('onClose')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\t\t\tcontent: data.message,\n\t\t\t\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcancel: (e) => {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tinit() {\n\t\t\tthis.form = {\n\t\t\t\trtime: new Date().Format('YYYY-MM-DD'),\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: this.archive.name + '安全隐患',\n\t\t\t\t\t\tcategory: null,\n\t\t\t\t\t\ttype: null,\n\t\t\t\t\t\tdesc: this.item.name,\n\t\t\t\t\t\taddress: this.archive.name + (this.archive.address || ''),\n\t\t\t\t\t\tphoto: null,\n\t\t\t\t\t\tetime: null\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\tonReady() {\n\t\tthis.initDict()\n\t\tthis.init()\n\t}\n}\n</script>\n<style lang=\"scss\">\n.c-improves {\n\twidth: 100%;\n\tmax-height: 1200rpx;\n\toverflow-y: auto;\n\t&__table {\n\t\tbackground-color: #fff;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tborder-top: 1px solid #f2f2f2;\n\t\tborder-left: 1px solid #f2f2f2;\n\t\tmargin: 20rpx 0 0;\n\t\t// font-size: 28rpx;\n\n\t\t.th {\n\t\t\tbackground-color: rgb(232, 232, 232);\n\t\t}\n\n\t\t.tr {\n\t\t\t.name {\n\t\t\t\tbackground-color: rgba(242, 242, 242, 1);\n\t\t\t}\n\t\t}\n\n\t\t.tr,\n\t\t.th {\n\t\t\tdisplay: flex;\n\t\t\tborder-bottom: 1rpx solid rgb(232, 232, 232);\n\n\t\t\t.td {\n\t\t\t\tborder-right: 1rpx solid rgb(232, 232, 232);\n\t\t\t\tline-height: 48rpx;\n\t\t\t\tposition: relative;\n\t\t\t\ttext-align: center;\n\t\t\t\tpadding: 10rpx 8rpx;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t}\n\n\t\t\t.value {\n\t\t\t\ttext-align: left;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tdisplay: flex;\n\n\t\t\t\ttext {\n\t\t\t\t\tflex: 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t&__footer {\n\t\tmargin: 40rpx 20rpx 0;\n\t\tdisplay: flex;\n\t\tjustify-content: space-evenly;\n\n\t\t.btn {\n\t\t\theight: 70rpx;\n\t\t\tborder-radius: 8rpx;\n\t\t\twidth: 200rpx;\n\t\t\tbackground-color: #f2f2f2;\n\t\t\ttext-align: center;\n\t\t\tline-height: 70rpx;\n\t\t}\n\t\t.btn2 {\n\t\t\tbackground-color: #169bd5;\n\t\t\tcolor: #fff;\n\t\t}\n\t}\n}\n.scrollHeight {\n\theight: 600rpx;\n}\n</style>\n","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./imporves.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./imporves.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1733722195311\n      var cssReload = require(\"F:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}