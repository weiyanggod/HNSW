{"version":3,"sources":["webpack:///F:/桌面/项目/水务安全小程序/safe-uniapp/pages/home/safe.vue?69c0","webpack:///F:/桌面/项目/水务安全小程序/safe-uniapp/pages/home/safe.vue?4538","webpack:///F:/桌面/项目/水务安全小程序/safe-uniapp/pages/home/safe.vue?2d9f","webpack:///F:/桌面/项目/水务安全小程序/safe-uniapp/pages/home/safe.vue?700b","uni-app:///pages/home/safe.vue","webpack:///F:/桌面/项目/水务安全小程序/safe-uniapp/pages/home/safe.vue?ed81","webpack:///F:/桌面/项目/水务安全小程序/safe-uniapp/pages/home/safe.vue?cc2e"],"names":["computed","watch","block","archive","props","default","components","improves","improvesGC","FUpload","data","category","photoImg","photoDefaultImg","showImproves","id","showPhoto","showStatus","status","name","selectId","selectItem","form","formValue","resultData","methods","onSelectCancel","onSelectItem","onCancel","onPhotoCancel","onPhoto","onImprove","initInspections","inspection","inspections","onSelect","Oninput","event","onSubmitStorage","uni","title","i","inspectionId","result","file","requirement","post","code","block_code","date","then","showCancel","success","content","onSubmit","c","inputValue","ins","cancel","init","get","onReady"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACc;;;AAGjE;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACpDA;AAAA;AAAA;AAAA;AAA+nB,CAAgB,8mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACmJnpB;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eACA;EACAA,4BACA,yEACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACAF;MACAG;IACA;EACA;EACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,SACA;QACAC;QACAJ;MACA,GACA;QACAI;QACAJ;MACA,GACA;QACAI;QACAJ;MACA,GACA;QACAI;QACAJ;MACA,EACA;MACAK;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;MACA;IACA;IACAC;MACA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;QACA;QAAA;UAAA;UACA,kCACA;YAAA;UAAA,EACA;UACA,uEACAC,oBACA;UACA,wFACA,aACA,wDACA,0DAFA,sBAEAd;UACA,iFACAc,kBACA;UACA,yEACAA;QACA;MACA;MACAC;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACAC;MACA,+DACAC;IACA;IACAC;MAAA;MACA;MACA;MACA;MACA;MACA;MACAC;QACAC;MACA;MACA;MAEA;QACAC;UACAP;YACAnB;YACA2B;YACAC,QACA,mEACA,2DACA;YACAC,MACA;YACAC;YACArB,YACA,2EACA;UACA;QACA;MACA;MACA,cACAsB;QACAC;QACA5B;QACA6B;QACAC;QACAf;MACA,GACAgB;QACAX;QACA;UACAA;YACAC;YACAW;YACAC;cACA;YACA;UACA;QACA;UACAb;YACAC;YACAa;YACAF;UACA;QACA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;IACA;IACAG;MAAA;MACA;MACA;QACAC;UACA,iBACA;UACA,IACAd,uBACAe,yCACA;YACAC;cAAAjB;cAAAW;YAAA;UACA;UACA,IACA,oEACA,mEACAV,oBACA;YACAgB;cAAAjB;cAAAW;YAAA;UACA;UACA,IACA,oCACA,mEACA,uEACA,4EACA,KACA;YACAM;cACAjB;cACAW;YACA;UACA;UACA,IACA,oCACA,mEACA,qEACA;YACAM;cACAjB;cACAW;YACA;UACA;QACA;MACA;MAEA;QACA;MACA;MACAZ;QACAC;QACAa;QACAD;UACA;YACAb;cACAC;YACA;YAEA;YACA;cACAC;gBACAP;kBACAnB;kBACA2B;kBAEAC,QACA,sBACAY,kCACA,WACA,sBACAA,kCACA,GACA;kBACAX,MACA,sBACAW,4CACA;kBACAV;kBACArB,YACA,sBACA+B,iDACA;gBACA;cACA;YACA;YACA,gBACAT;cACAC;cACAC;cACA7B;cACA8B;cACAf;YACA,GACAgB;cACAX;cACA;gBACAA;kBACAC;kBACAa;kBACAF;gBACA;cACA;gBACAZ;kBACAC;kBACAW;kBACAC;oBACA;kBACA;gBACA;cACA;YACA;UACA;QACA;QACAM;UACAnB;QACA;MACA;IACA;IACAoB;MAAA;MACA;QACA,cACAC,0BACA,uCACA,wBAEA,CACAV;UACA,uBACA,wCACA;QACA;MACA;IACA;EACA;EACAW;IACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACndA;AAAA;AAAA;AAAA;AAAksC,CAAgB,6lCAAG,EAAC,C;;;;;;;;;;;ACAttC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/home/safe.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./safe.vue?vue&type=template&id=3cc5fc14&\"\nvar renderjs\nimport script from \"./safe.vue?vue&type=script&lang=js&\"\nexport * from \"./safe.vue?vue&type=script&lang=js&\"\nimport style0 from \"./safe.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/safe.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./safe.vue?vue&type=template&id=3cc5fc14&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uModal: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-modal/u-modal\" */ \"@/uni_modules/uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n    uPicker: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-picker/u-picker\" */ \"@/uni_modules/uview-ui/components/u-picker/u-picker.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event, index) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        index = _temp2.index\n      var _temp, _temp2\n      _vm.selectId = index\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./safe.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./safe.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"c-safe\">\n\t\t<view class=\"header\">\n\t\t\t<view\n\t\t\t\tclass=\"item\"\n\t\t\t\tv-for=\"(item, index) in inspections\"\n\t\t\t\t:key=\"item.id\"\n\t\t\t\t:class=\"{ itemed: index == selectId }\"\n\t\t\t\t@click=\"selectId = index\"\n\t\t\t>\n\t\t\t\t{{ item.name }}\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"body\">\n\t\t\t<view class=\"c-safe__table\">\n\t\t\t\t<view class=\"th\">\n\t\t\t\t\t<view class=\"td\" style=\"width: 10%\">序号</view>\n\t\t\t\t\t<view class=\"td\" style=\"width: 35%\">检查要求</view>\n\t\t\t\t\t<view class=\"td\" style=\"width: 20%\">状态</view>\n\t\t\t\t\t<view class=\"td\" style=\"width: 15%\">图片</view>\n\t\t\t\t\t<view class=\"td\" style=\"width: 20%\">隐患发起</view>\n\t\t\t\t</view>\n\t\t\t\t<view\n\t\t\t\t\tclass=\"tr\"\n\t\t\t\t\tv-for=\"item in inspections[selectId].items\"\n\t\t\t\t\t:key=\"item.id\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"td\" style=\"width: 10%\">{{ item.id }}</view>\n\t\t\t\t\t<view class=\"td\" style=\"width: 35%; text-align: left\">\n\t\t\t\t\t\t{{ item.name }}\n\t\t\t\t\t</view>\n\t\t\t\t\t<view\n\t\t\t\t\t\tclass=\"td status\"\n\t\t\t\t\t\tstyle=\"width: 20%; padding-right: 20rpx\"\n\t\t\t\t\t\t@click=\"onSelectItem(item)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<!-- 是否需要录入数据 -->\n\t\t\t\t\t\t<view v-if=\"item.isFillIn === '否'\">\n\t\t\t\t\t\t\t<text>\n\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\tformValue[\n\t\t\t\t\t\t\t\t\t\t`${item.inspectionId}_${item.id}`\n\t\t\t\t\t\t\t\t\t] || '请选择'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t<u-icon\n\t\t\t\t\t\t\t\tname=\"arrow-down\"\n\t\t\t\t\t\t\t\tcolor=\"#000\"\n\t\t\t\t\t\t\t\tsize=\"12\"\n\t\t\t\t\t\t\t></u-icon>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view v-else>\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t@input=\"Oninput($event, item)\"\n\t\t\t\t\t\t\t\t:value=\"\n\t\t\t\t\t\t\t\t\tform[\n\t\t\t\t\t\t\t\t\t\t`${item.inspectionId}_${item.id}_inputValue`\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t:auto-height=\"true\"\n\t\t\t\t\t\t\t\t:maxlength=\"100\"\n\t\t\t\t\t\t\t\tcols=\"30\"\n\t\t\t\t\t\t\t\trows=\"10\"\n\t\t\t\t\t\t\t\tstyle=\"width: 70px\"\n\t\t\t\t\t\t\t></textarea>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view\n\t\t\t\t\t\tclass=\"td status\"\n\t\t\t\t\t\tstyle=\"width: 15%\"\n\t\t\t\t\t\t@click=\"onPhoto(item)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<image\n\t\t\t\t\t\t\tclass=\"improve\"\n\t\t\t\t\t\t\t:src=\"\n\t\t\t\t\t\t\t\tform[`${item.inspectionId}_${item.id}_photo`]\n\t\t\t\t\t\t\t\t\t? photoImg\n\t\t\t\t\t\t\t\t\t: photoDefaultImg\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\tmode=\"\"\n\t\t\t\t\t\t></image>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view\n\t\t\t\t\t\tclass=\"td status\"\n\t\t\t\t\t\tstyle=\"width: 20%; color: #3c9cff\"\n\t\t\t\t\t\t@click=\"onImprove(item)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<image\n\t\t\t\t\t\t\tclass=\"improve\"\n\t\t\t\t\t\t\tsrc=\"@/static/img/improve.png\"\n\t\t\t\t\t\t\tmode=\"\"\n\t\t\t\t\t\t></image>\n\t\t\t\t\t\t整改\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"c-safe__footer\">\n\t\t\t<view class=\"btn\" @click=\"onSubmitStorage()\">保存</view>\n\t\t\t<view class=\"btn btn2\" @click=\"onSubmit\">提交</view>\n\t\t</view>\n\t\t<u-modal\n\t\t\t:show=\"showPhoto\"\n\t\t\t:title=\"' '\"\n\t\t\t:content=\"' '\"\n\t\t\t@cancel=\"onPhotoCancel\"\n\t\t\t:showConfirmButton=\"false\"\n\t\t>\n\t\t\t<view class=\"u-modal\">\n\t\t\t\t<view class=\"u-modal_photo\" v-if=\"showPhoto\">\n\t\t\t\t\t<FUpload\n\t\t\t\t\t\tv-model=\"\n\t\t\t\t\t\t\tform[\n\t\t\t\t\t\t\t\t`${selectItem.inspectionId}_${selectItem.id}_photo`\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\"\n\t\t\t\t\t></FUpload>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"u-modal_btn\" @click=\"onPhotoCancel\">确定</view>\n\t\t\t</view>\n\t\t</u-modal>\n\t\t<u-picker\n\t\t\t:show=\"showStatus\"\n\t\t\t:columns=\"[status]\"\n\t\t\t@confirm=\"onSelect\"\n\t\t\t@cancel=\"onSelectCancel\"\n\t\t\tkeyName=\"name\"\n\t\t></u-picker>\n\t\t<!-- 整改弹框 -->\n\t\t<improves\n\t\t\tv-if=\"showImproves && category != '工程'\"\n\t\t\t:block=\"block\"\n\t\t\t:item=\"selectItem\"\n\t\t\t@onClose=\"onCancel\"\n\t\t></improves>\n\t\t<improvesGC\n\t\t\tv-if=\"showImproves && category == '工程'\"\n\t\t\t:block=\"block\"\n\t\t\t:item=\"selectItem\"\n\t\t\t@onClose=\"onCancel\"\n\t\t></improvesGC>\n\t</view>\n</template>\n<script>\nimport improves from './imporves.vue'\nimport improvesGC from './imporvesGC.vue'\nimport FUpload from '@/components/FUpload.vue'\nimport { mapState } from 'vuex'\nexport default {\n\tcomputed: {\n\t\t...mapState('common', ['archive', 'inspections', 'users', 'me']),\n\t},\n\twatch: {\n\t\tblock() {\n\t\t\tthis.init()\n\t\t},\n\t\tarchive() {\n\t\t\tthis.category = (this.archive || {}).category1 || this.category\n\t\t},\n\t},\n\tprops: {\n\t\tblock: {\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tcomponents: {\n\t\timproves,\n\t\timprovesGC,\n\t\tFUpload,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcategory: null,\n\t\t\tphotoImg: require('@/static/img/photo.png'),\n\t\t\tphotoDefaultImg: require('@/static/img/photodefault.png'),\n\t\t\tshowImproves: false,\n\t\t\tid: '',\n\t\t\tshowPhoto: false,\n\t\t\tshowStatus: false,\n\t\t\tstatus: [\n\t\t\t\t{\n\t\t\t\t\tname: '✅ 正常',\n\t\t\t\t\tid: '0',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '❌ 异常',\n\t\t\t\t\tid: '1',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '无此项',\n\t\t\t\t\tid: '2',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '未检查',\n\t\t\t\t\tid: '3',\n\t\t\t\t},\n\t\t\t],\n\t\t\tselectId: 0,\n\t\t\tselectItem: {},\n\t\t\tform: {},\n\t\t\tformValue: {},\n\t\t\tresultData: '',\n\t\t}\n\t},\n\tmethods: {\n\t\tonSelectCancel() {\n\t\t\tthis.showStatus = false\n\t\t\tthis.$emit('onClose')\n\t\t},\n\t\tonSelectItem(item) {\n\t\t\tif (item.isFillIn === '否') {\n\t\t\t\tthis.id = `${item.inspectionId}_${item.id}`\n\t\t\t\tthis.showStatus = true\n\t\t\t\tthis.$emit('onAdd')\n\t\t\t}\n\t\t},\n\t\tonCancel() {\n\t\t\tthis.showImproves = false\n\t\t\tthis.$emit('onClose')\n\t\t},\n\t\tonPhotoCancel() {\n\t\t\tthis.showPhoto = false\n\t\t\tthis.$emit('onClose')\n\t\t},\n\t\tonPhoto(item) {\n\t\t\tthis.selectItem = item\n\t\t\tthis.showPhoto = true\n\t\t\tthis.$emit('onAdd')\n\t\t},\n\t\tonImprove(item) {\n\t\t\tthis.selectItem = item\n\t\t\tthis.showImproves = true\n\t\t\tthis.$emit('onAdd')\n\t\t},\n\t\tinitInspections(inspections) {\n\t\t\tthis.form = {}\n\t\t\tthis.formValue = {}\n\t\t\t;(this.inspections || []).forEach((i) => {\n\t\t\t\t;(i.items || []).forEach((c) => {\n\t\t\t\t\tconst inspection = inspections.find(\n\t\t\t\t\t\t(i) => i.requirement == c.name,\n\t\t\t\t\t)\n\t\t\t\t\tthis.form[`${c.inspectionId}_${c.id}`] = inspection\n\t\t\t\t\t\t? inspection.result\n\t\t\t\t\t\t: '3'\n\t\t\t\t\tthis.formValue[`${c.inspectionId}_${c.id}`] =\n\t\t\t\t\t\tthis.status[\n\t\t\t\t\t\t\tthis.form[`${c.inspectionId}_${c.id}`]\n\t\t\t\t\t\t]?.name\n\t\t\t\t\tthis.form[`${c.inspectionId}_${c.id}_photo`] = inspection\n\t\t\t\t\t\t? inspection.file\n\t\t\t\t\t\t: null\n\t\t\t\t\tthis.form[`${c.inspectionId}_${c.id}_inputValue`] =\n\t\t\t\t\t\tinspection ? inspection.resultData : null\n\t\t\t\t})\n\t\t\t})\n\t\t\tinspections.forEach(() => {})\n\t\t},\n\t\tonSelect(target) {\n\t\t\tthis.formValue[this.id] = target.value[0].name\n\t\t\tthis.form[this.id] = target.value[0].id\n\t\t\tthis.showStatus = false\n\t\t\tthis.$emit('onClose')\n\t\t},\n\t\tOninput(event, item) {\n\t\t\tthis.form[item.inspectionId + '_' + item.id + '_inputValue'] =\n\t\t\t\tevent.detail.value\n\t\t},\n\t\tonSubmitStorage() {\n\t\t\t// uni.showModal({\n\t\t\t// \ttitle: \"提示\",\n\t\t\t// \tcontent: \"确定提交巡检单吗？\",\n\t\t\t// \tconfirm: e => {\n\t\t\t// \t\tif (e.confirm) {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '提交中...',\n\t\t\t})\n\t\t\tlet inspections = []\n\n\t\t\tthis.inspections.forEach((i) => {\n\t\t\t\ti.items.forEach((c) => {\n\t\t\t\t\tinspections.push({\n\t\t\t\t\t\tid: c.id,\n\t\t\t\t\t\tinspectionId: c.inspectionId,\n\t\t\t\t\t\tresult:\n\t\t\t\t\t\t\tthis.form[`${c.inspectionId}_${c.id}`] != null\n\t\t\t\t\t\t\t\t? this.form[`${c.inspectionId}_${c.id}`]\n\t\t\t\t\t\t\t\t: '3',\n\t\t\t\t\t\tfile:\n\t\t\t\t\t\t\tthis.form[`${c.inspectionId}_${c.id}_photo`] || '',\n\t\t\t\t\t\trequirement: c.name,\n\t\t\t\t\t\tresultData:\n\t\t\t\t\t\t\tthis.form[`${c.inspectionId}_${c.id}_inputValue`] ||\n\t\t\t\t\t\t\t'',\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.$request\n\t\t\t\t.post(`inspections/storage`, {\n\t\t\t\t\tcode: this.archive.code,\n\t\t\t\t\tname: this.archive.name,\n\t\t\t\t\tblock_code: this.block,\n\t\t\t\t\tdate: new Date().Format('YYYY-MM-DD'),\n\t\t\t\t\tinspections: inspections,\n\t\t\t\t})\n\t\t\t\t.then((res) => {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tif (res.data.code == 200) {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '保存成功！',\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\tthis.init()\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '保存失败',\n\t\t\t\t\t\t\tcontent: '保存失败,请联系管理员',\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t// }\n\t\t\t// \t},\n\t\t\t// \tcancel:e=>{\n\t\t\t// \t\tuni.hideLoading();\n\t\t\t// \t}\n\t\t\t// });\n\t\t},\n\t\tonSubmit() {\n\t\t\tlet ins = null\n\t\t\tthis.inspections.forEach((c) => {\n\t\t\t\tc.items.forEach((i) => {\n\t\t\t\t\tconst inputValue =\n\t\t\t\t\t\tthis.form[`${i.inspectionId}_${i.id}_inputValue`]\n\t\t\t\t\tif (\n\t\t\t\t\t\ti.isFillIn === '是' &&\n\t\t\t\t\t\t(inputValue == null || inputValue == '')\n\t\t\t\t\t) {\n\t\t\t\t\t\tins = { title: `未填写：${i.name}`, showCancel: false }\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.form[`${i.inspectionId}_${i.id}`] == null ||\n\t\t\t\t\t\t(this.form[`${i.inspectionId}_${i.id}`] == '3' &&\n\t\t\t\t\t\t\ti.isFillIn === '否')\n\t\t\t\t\t) {\n\t\t\t\t\t\tins = { title: `未检查：${i.name}`, showCancel: false }\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.archive.category1 == '工程' &&\n\t\t\t\t\t\tthis.form[`${i.inspectionId}_${i.id}`] != '2' &&\n\t\t\t\t\t\t!this.form[`${i.inspectionId}_${i.id}_photo`] &&\n\t\t\t\t\t\tthis.form[`${i.inspectionId}_${i.id}_inputValue`] !==\n\t\t\t\t\t\t\t'无'\n\t\t\t\t\t) {\n\t\t\t\t\t\tins = {\n\t\t\t\t\t\t\ttitle: `未上传图片：${i.name}`,\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.archive.category1 != '工程' &&\n\t\t\t\t\t\tthis.form[`${i.inspectionId}_${i.id}`] == '1' &&\n\t\t\t\t\t\t!this.form[`${i.inspectionId}_${i.id}_photo`]\n\t\t\t\t\t) {\n\t\t\t\t\t\tins = {\n\t\t\t\t\t\t\ttitle: `未上传异常图片：${i.name}`,\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tif (ins) {\n\t\t\t\treturn uni.showModal(ins)\n\t\t\t}\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '确定提交巡检单吗？',\n\t\t\t\tsuccess: (e) => {\n\t\t\t\t\tif (e.confirm) {\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: '提交中...',\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tlet inspections = []\n\t\t\t\t\t\tthis.inspections.forEach((i) => {\n\t\t\t\t\t\t\ti.items.forEach((c) => {\n\t\t\t\t\t\t\t\tinspections.push({\n\t\t\t\t\t\t\t\t\tid: c.id,\n\t\t\t\t\t\t\t\t\tinspectionId: c.inspectionId,\n\n\t\t\t\t\t\t\t\t\tresult:\n\t\t\t\t\t\t\t\t\t\tthis.form[\n\t\t\t\t\t\t\t\t\t\t\t`${c.inspectionId}_${c.id}`\n\t\t\t\t\t\t\t\t\t\t] != null\n\t\t\t\t\t\t\t\t\t\t\t? this.form[\n\t\t\t\t\t\t\t\t\t\t\t\t\t`${c.inspectionId}_${c.id}`\n\t\t\t\t\t\t\t\t\t\t\t  ]\n\t\t\t\t\t\t\t\t\t\t\t: '2',\n\t\t\t\t\t\t\t\t\tfile:\n\t\t\t\t\t\t\t\t\t\tthis.form[\n\t\t\t\t\t\t\t\t\t\t\t`${c.inspectionId}_${c.id}_photo`\n\t\t\t\t\t\t\t\t\t\t] || '',\n\t\t\t\t\t\t\t\t\trequirement: c.name,\n\t\t\t\t\t\t\t\t\tresultData:\n\t\t\t\t\t\t\t\t\t\tthis.form[\n\t\t\t\t\t\t\t\t\t\t\t`${c.inspectionId}_${c.id}_inputValue`\n\t\t\t\t\t\t\t\t\t\t] || '',\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.$request\n\t\t\t\t\t\t\t.post(`inspections`, {\n\t\t\t\t\t\t\t\tcode: this.archive.code,\n\t\t\t\t\t\t\t\tblock_code: this.block,\n\t\t\t\t\t\t\t\tname: this.archive.name,\n\t\t\t\t\t\t\t\tdate: new Date().Format('YYYY-MM-DD'),\n\t\t\t\t\t\t\t\tinspections: inspections,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\tif (res.data.code !== 200) {\n\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\ttitle: '提交失败',\n\t\t\t\t\t\t\t\t\t\tcontent: '提交失败,请联系管理员',\n\t\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\ttitle: '提交成功！',\n\t\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\t\tthis.init()\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcancel: (e) => {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tinit() {\n\t\t\tif ((this.inspections || []).length && this.block) {\n\t\t\t\tthis.$request\n\t\t\t\t\t.get(\n\t\t\t\t\t\t`inspections/${(this.archive || {}).code}/${\n\t\t\t\t\t\t\tthis.block\n\t\t\t\t\t\t}/storage`,\n\t\t\t\t\t)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tthis.initInspections(\n\t\t\t\t\t\t\t(res.data.data || {}).inspections || [],\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t}\n\t\t},\n\t},\n\tonReady() {\n\t\tthis.category = (this.archive || {}).category1 || this.category\n\t\tthis.init()\n\t},\n}\n</script>\n<style lang=\"scss\">\n.c-safe {\n\t.header {\n\t\tdisplay: flex;\n\n\t\t.item {\n\t\t\tmin-width: initial;\n\t\t\tpadding: 10rpx 4rpx;\n\t\t\tflex-grow: 1;\n\t\t\tbackground-color: rgb(234, 243, 254);\n\t\t\tborder-radius: 8rpx 8rpx 0 0;\n\t\t\tborder: 1px solid rgb(234, 243, 254);\n\t\t\tborder-bottom: 1px solid rgb(232, 232, 232);\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t}\n\n\t\t.itemed {\n\t\t\tbackground-color: #fff;\n\t\t\tborder: 1px solid rgb(232, 232, 232);\n\t\t\tborder-bottom: 1px solid #fff;\n\t\t}\n\t}\n\n\t&__table {\n\t\tbackground-color: #fff;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tborder-top: 1px solid #f2f2f2;\n\t\tborder-left: 1px solid #f2f2f2;\n\t\tmargin: 20rpx 0 0;\n\t\t// font-size: 28rpx;\n\n\t\t.th {\n\t\t\tbackground-color: rgb(232, 232, 232);\n\t\t}\n\n\t\t.tr {\n\t\t\t.name {\n\t\t\t\tbackground-color: rgba(242, 242, 242, 1);\n\t\t\t}\n\t\t}\n\n\t\t.tr,\n\t\t.th {\n\t\t\tdisplay: flex;\n\t\t\tborder-bottom: 1rpx solid rgb(232, 232, 232);\n\n\t\t\t.td {\n\t\t\t\t// padding-left: 8rpx;\n\t\t\t\tborder-right: 1rpx solid rgb(232, 232, 232);\n\t\t\t\tline-height: 48rpx;\n\t\t\t\tposition: relative;\n\t\t\t\ttext-align: center;\n\t\t\t\tpadding: 0 2rpx;\n\t\t\t\t// display: flex;\n\t\t\t\t// align-items: center;\n\t\t\t}\n\n\t\t\t.name {\n\t\t\t\twidth: 26%;\n\t\t\t}\n\n\t\t\t.value {\n\t\t\t\tflex: 1;\n\t\t\t}\n\n\t\t\t.status {\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tdisplay: flex;\n\n\t\t\t\ttext {\n\t\t\t\t\tflex: 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.improve {\n\t\t\t\tmargin-right: 4rpx;\n\t\t\t\twidth: 42rpx;\n\t\t\t\theight: 40rpx;\n\t\t\t}\n\t\t}\n\t}\n\n\t&__footer {\n\t\tmargin: 40rpx 20rpx 0;\n\t\tdisplay: flex;\n\t\tjustify-content: space-evenly;\n\n\t\t.btn {\n\t\t\theight: 70rpx;\n\t\t\tborder-radius: 8rpx;\n\t\t\twidth: 200rpx;\n\t\t\tbackground-color: #f2f2f2;\n\t\t\ttext-align: center;\n\t\t\tline-height: 70rpx;\n\t\t}\n\n\t\t.btn2 {\n\t\t\tbackground-color: #169bd5;\n\t\t\tcolor: #fff;\n\t\t}\n\t}\n\t.u-modal {\n\t\theight: 600rpx;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\t.u-modal_photo {\n\t\tflex: 1;\n\n\t\tline-height: 48rpx;\n\t}\n\t.u-modal_btn {\n\t\theight: 70rpx;\n\t\tborder-radius: 8rpx;\n\t\twidth: 200rpx;\n\t\tbackground-color: #f2f2f2;\n\t\ttext-align: center;\n\t\tline-height: 70rpx;\n\t\tmargin: auto auto 10rpx;\n\t\tbackground-color: #169bd5;\n\t\tcolor: #fff;\n\t}\n}\n</style>\n","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./safe.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./safe.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1734939274466\n      var cssReload = require(\"F:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}