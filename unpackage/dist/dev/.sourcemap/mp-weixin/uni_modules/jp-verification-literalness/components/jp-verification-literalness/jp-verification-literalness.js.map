{"version":3,"sources":["webpack:///F:/桌面/项目/水务安全小程序/safe-uniapp/uni_modules/jp-verification-literalness/components/jp-verification-literalness/jp-verification-literalness.vue?90a0","webpack:///F:/桌面/项目/水务安全小程序/safe-uniapp/uni_modules/jp-verification-literalness/components/jp-verification-literalness/jp-verification-literalness.vue?c4ee","webpack:///F:/桌面/项目/水务安全小程序/safe-uniapp/uni_modules/jp-verification-literalness/components/jp-verification-literalness/jp-verification-literalness.vue?571f","webpack:///F:/桌面/项目/水务安全小程序/safe-uniapp/uni_modules/jp-verification-literalness/components/jp-verification-literalness/jp-verification-literalness.vue?4fc6","uni-app:///uni_modules/jp-verification-literalness/components/jp-verification-literalness/jp-verification-literalness.vue"],"names":["name","props","securityCode","type","default","codeLength","contentWidth","contentHeight","lineLength","backgroundColor","lineColorList","colorList","computed","canvasId","data","identifyCode","watch","methods","verification","randomNum","getcheckCode","code","drawTap","drawPic","context","drawText","console","i","Math","drawLine","mounted"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoJ;AACpJ;AAC+E;AACL;;;AAG1E;AAC+K;AAC/K,gBAAgB,6KAAU;AAC1B,EAAE,iGAAM;AACR,EAAE,kHAAM;AACR,EAAE,2HAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sHAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAorB,CAAgB,qoBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBCkBxsB;EACAA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACA;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACAG;MACAJ;MACAC;IACA;IACAI;MACA;MACAL;MACAC;IACA;IACAK;MACA;MACAN;MACAC;IACA;IACAM;MACAP;MACAC;QACA,QACA,oBACA,wBACA,sBACA,oBACA,yBACA;MACA;IACA;IACAO;MACAR;MACAC;QACA,QACA,gBACA,oBACA,kBACA,gBACA,qBACA;MACA;IACA;EACA;EACAQ;IACAC;MAEA;IAKA;EACA;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACAd;MACA;IACA;EACA;EACAe;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;MACA,cACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA;MACA;QACA;QACAC;MACA;MACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;MAEA;MAEAC;MAEAA;MAEAA;MACA;QACA;MACA;MAEA;MAEAA;IACA;IACAC;MACA;MACAD;MAEA,0BACA,6CACA;MACAE;MACAF;MAEA,QACAG,2DACAC;MACA;MACA;MAEAJ;MACAA;MACAA;MAEAA;MACAA;IACA;IACAK;MACA;QACA;QACAL;QACAA;QACA;QACA;QACA;QACA;QACAA;QACAA;QACAA;MACA;IACA;EACA;EACAM;IACA;EACA;AACA;AAAA,4B","file":"uni_modules/jp-verification-literalness/components/jp-verification-literalness/jp-verification-literalness.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./jp-verification-literalness.vue?vue&type=template&id=718cb547&scoped=true&\"\nvar renderjs\nimport script from \"./jp-verification-literalness.vue?vue&type=script&lang=js&\"\nexport * from \"./jp-verification-literalness.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"718cb547\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/jp-verification-literalness/components/jp-verification-literalness/jp-verification-literalness.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jp-verification-literalness.vue?vue&type=template&id=718cb547&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jp-verification-literalness.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jp-verification-literalness.vue?vue&type=script&lang=js&\"","<template>\n\t<div :style=\"{ height: contentHeight + 'px', width: contentWidth + 'px' }\">\n\t\t<canvas\n\t\t\tv-if=\"canvasId\"\n\t\t\t@tap=\"drawTap\"\n\t\t\t:id=\"canvasId\"\n\t\t\t:canvasId=\"canvasId\"\n\t\t\t:width=\"contentWidth\"\n\t\t\t:height=\"contentHeight\"\n\t\t\t:style=\"{\n\t\t\t\theight: contentHeight + 'px',\n\t\t\t\twidth: contentWidth + 'px',\n\t\t\t}\"\n\t\t></canvas>\n\t</div>\n</template>\n<!-- jp-verification-literalness  -->\n<script>\nexport default {\n\tname: 'jp-verification-literalness',\n\tprops: {\n\t\tsecurityCode: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tcodeLength: {\n\t\t\t//验证码数量\n\t\t\ttype: Number,\n\t\t\tdefault: 4,\n\t\t},\n\t\tcontentWidth: {\n\t\t\ttype: Number,\n\t\t\tdefault: 120,\n\t\t},\n\t\tcontentHeight: {\n\t\t\ttype: Number,\n\t\t\tdefault: 60,\n\t\t},\n\t\tlineLength: {\n\t\t\t//线条数\n\t\t\ttype: Number,\n\t\t\tdefault: 8,\n\t\t},\n\t\tbackgroundColor: {\n\t\t\t// 画板背景\n\t\t\ttype: String,\n\t\t\tdefault: 'rgb(238,226,224)',\n\t\t},\n\t\tlineColorList: {\n\t\t\ttype: Array,\n\t\t\tdefault() {\n\t\t\t\treturn [\n\t\t\t\t\t'rgba(238,0,0,.5)',\n\t\t\t\t\t'rgba(0, 170, 255,.5)',\n\t\t\t\t\t'rgba(0, 170, 0,.5)',\n\t\t\t\t\t'rgba(0, 0, 0,.5)',\n\t\t\t\t\t'rgba(153, 146, 255,.5)',\n\t\t\t\t]\n\t\t\t},\n\t\t},\n\t\tcolorList: {\n\t\t\ttype: Array,\n\t\t\tdefault() {\n\t\t\t\treturn [\n\t\t\t\t\t'rgb(238,0,0)',\n\t\t\t\t\t'rgb(0, 170, 255)',\n\t\t\t\t\t'rgb(0, 170, 0)',\n\t\t\t\t\t'rgb(0, 0, 0)',\n\t\t\t\t\t'rgb(153, 146, 255)',\n\t\t\t\t]\n\t\t\t},\n\t\t},\n\t},\n\tcomputed: {\n\t\tcanvasId() {\n\t\t\t// #ifdef VUE2\n\t\t\treturn `lime-signature${this._uid}`\n\t\t\t// #endif\n\t\t\t// #ifdef VUE3\n\t\t\treturn `lime-signature${this._.uid}`\n\t\t\t// #endif\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tidentifyCode: '',\n\t\t}\n\t},\n\twatch: {\n\t\tsecurityCode() {\n\t\t\tthis.drawPic()\n\t\t},\n\t},\n\tmethods: {\n\t\tverification(code) {\n\t\t\treturn this.identifyCode == code\n\t\t},\n\t\trandomNum(min, max) {\n\t\t\treturn Math.floor(Math.random() * (max - min) + min)\n\t\t},\n\t\tgetcheckCode() {\n\t\t\tlet code = ''\n\t\t\tconst codeLength = this.codeLength\n\t\t\tconst random = [\n\t\t\t\t1,\n\t\t\t\t2,\n\t\t\t\t3,\n\t\t\t\t4,\n\t\t\t\t5,\n\t\t\t\t6,\n\t\t\t\t7,\n\t\t\t\t8,\n\t\t\t\t9,\n\t\t\t\t'A',\n\t\t\t\t'B',\n\t\t\t\t'C',\n\t\t\t\t'D',\n\t\t\t\t'E',\n\t\t\t\t'F',\n\t\t\t\t'G',\n\t\t\t\t'H',\n\t\t\t\t'I',\n\t\t\t\t'J',\n\t\t\t\t'K',\n\t\t\t\t'L',\n\t\t\t\t'M',\n\t\t\t\t'N',\n\t\t\t\t'P',\n\t\t\t\t'Q',\n\t\t\t\t'R',\n\t\t\t\t'S',\n\t\t\t\t'T',\n\t\t\t\t'U',\n\t\t\t\t'V',\n\t\t\t\t'W',\n\t\t\t\t'X',\n\t\t\t\t'Y',\n\t\t\t\t'Z',\n\t\t\t]\n\t\t\tfor (let i = 0; i < codeLength; i++) {\n\t\t\t\tlet index = Math.floor(Math.random() * 34)\n\t\t\t\tcode += random[index]\n\t\t\t}\n\t\t\tthis.identifyCode = code\n\t\t},\n\t\tdrawTap() {\n\t\t\tif (this.securityCode) {\n\t\t\t\tthis.$emit('getCode')\n\t\t\t} else {\n\t\t\t\tthis.drawPic()\n\t\t\t}\n\t\t},\n\t\tdrawPic() {\n\t\t\tif (this.securityCode) {\n\t\t\t\tthis.identifyCode = this.securityCode\n\t\t\t} else {\n\t\t\t\tthis.getcheckCode()\n\t\t\t}\n\n\t\t\tlet context = uni.createCanvasContext(this.canvasId, this)\n\n\t\t\tcontext.setTextBaseline('bottom')\n\n\t\t\tcontext.setFillStyle(this.backgroundColor)\n\n\t\t\tcontext.fillRect(0, 0, this.contentWidth, this.contentHeight)\n\t\t\tfor (let i = 0; i < this.identifyCode.length; i++) {\n\t\t\t\tthis.drawText(context, this.identifyCode[i], i)\n\t\t\t}\n\n\t\t\tthis.drawLine(context)\n\n\t\t\tcontext.draw()\n\t\t},\n\t\tdrawText(context, txt, i) {\n\t\t\tlet a = Math.floor(Math.random() * this.colorList.length)\n\t\t\tcontext.setFillStyle(this.colorList[a])\n\n\t\t\tlet fontSize = Math.trunc(\n\t\t\t\tthis.contentWidth / this.identifyCode.length,\n\t\t\t)\n\t\t\tconsole.log(fontSize)\n\t\t\tcontext.setFontSize(this.randomNum(fontSize, fontSize))\n\n\t\t\tlet x =\n\t\t\t\ti * (this.contentWidth / (this.identifyCode.length + 1)) +\n\t\t\t\tMath.trunc(fontSize / 2)\n\t\t\tlet y = this.randomNum(fontSize, this.contentHeight - 5)\n\t\t\tvar deg = this.randomNum(-10, 10)\n\n\t\t\tcontext.translate(x, y)\n\t\t\tcontext.rotate((deg * Math.PI) / 180)\n\t\t\tcontext.fillText(txt, 0, 0)\n\n\t\t\tcontext.rotate((-deg * Math.PI) / 180)\n\t\t\tcontext.translate(-x, -y)\n\t\t},\n\t\tdrawLine(context) {\n\t\t\tfor (let i = 0; i < this.lineLength; i++) {\n\t\t\t\tlet a = Math.floor(Math.random() * this.lineColorList.length)\n\t\t\t\tcontext.setStrokeStyle(this.lineColorList[a])\n\t\t\t\tcontext.beginPath()\n\t\t\t\tlet startX = this.randomNum(0, this.contentWidth)\n\t\t\t\tlet startY = this.randomNum(0, this.contentHeight)\n\t\t\t\tlet endX = this.randomNum(0, this.contentWidth)\n\t\t\t\tlet endY = this.randomNum(0, this.contentHeight)\n\t\t\t\tcontext.moveTo(startX, startY)\n\t\t\t\tcontext.lineTo(endX, endY)\n\t\t\t\tcontext.stroke()\n\t\t\t}\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.drawPic()\n\t},\n}\n</script>\n\n<style scoped></style>\n"],"sourceRoot":""}